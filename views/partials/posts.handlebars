<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

{{!-- post div --}}

<div class="container-fluid post rounded d-flex flex-column align-items-start justify-content-center p-0 mt-5 mb-2 bg-light">
    <header class="row-auto w-100 rounded-top bg-secondary d-flex flex-column flex-md-row align-items-center justify-content-between">
        <div class="d-flex flex-column flex-sm-row align-items-center p-3">
            <a href="/posts/{{id}}"><h2 class="text-light border rounded p-2 pr-4 pl-4">{{title}}</h2></a>
            <p class="text-light p-2">Published by <a href="/profile/{{author_id}}">{{user.username}}</a> on {{format_date date}}</p>
        </div>
        <div class="fav-status d-flex flex-nowrap p-3 ">
            <i postid="{{id}}" isFav="{{isFav id @root.user.favorites}}" onclick="favorite(this)" class="fa fa-2x fa-heart fa-heart-o text-light"></i>
            <p class="favCount text-light pt-2 pl-2">{{favoriters.length}}</p>
        </div>
    </header>
    <div class="row-auto w-100 d-flex flex-column-reverse flex-wrap flex-md-row align-items-center justify-content-end p-3">
        {{#if (eq author_id @root.user.id)}}
        <div class="col-1 d-flex flex-md-column align-items-center justify-content-around">
            <a class="btn border m-1" href="/posts/{{id}}/edit">EDIT POST</a>
            <a postid="{{id}}" class="btn btn-danger border text-light m-1" onclick="import('../../js/delPost.js').then((module) => module.delPost(this));">🗑️ DELETE</a>
        </div>
        {{/if}}
        <div class="col p-4 content" postid="{{id}}">
            <pre class="container-fluid p-3 rounded">{{content}}</pre>
            <p class="mt-4">Tags: {{#each tags as |tag|}} {{tagname}}. {{else}} (none) {{/each}}</p>
        </div>
    </div>
</div>